<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
	layout:decorate="~{layout}">
<head>
<meta charset="UTF-8" />
</head>
<body>

	<section class="layout-content" layout:fragment="corpo">
		<main role="main">

		<section class="jumbotron text-center">
			<img class="d-block mx-auto" th:src="@{/image/spring-security.png}"
				width="72" height="72">
			<div class="container">
				<h1 class="jumbotron-heading">Uploader CNAB</h1>
				<p class="lead text-muted">Lista de Operações</p>
			</div>
		</section>

		<div class="album py-5 bg-light">
			<div class="container">

				<div class="row">
					<div class="col-md-12">

						<div th:if="${!data.operations.empty}" class="d-flex justify-content-between align-items-center">
							<h2>Operações</h2>
							<div class="d-flex justify-content-center align-items-center">
								<h2>Total: </h2>
								<h3 th:text="${data.total}" class="ml-2">saldo</h3>
							</div>
						</div>

						<div th:if="${data.operations.empty}" class="jumbotron">
							<h1 class="display-4">Opss!</h1>
							<p class="lead">Parece que ainda não existem operações no nosso sistema.</p>
							<hr class="my-4">
							<p>Você pode adicionar novas operações clicando no botão abaixo</p>
							<a class="btn btn-primary btn-lg" th:href="@{/operations}" role="button">Importar CNAB</a>
						</div>

						<table
								th:if="${!data.operations.empty}"
								id="table-operations"
							class="table table-striped table-bordered nowrap"
							style="width: 100%">
							<thead class="thead-dark">
								<tr>
									<th scope="col">#</th>
									<th scope="col">Dono da Loja</th>
									<th scope="col">Nome da Loja</th>
									<th scope="col">Documento</th>
									<th scope="col">Número do Cartão</th>
									<th scope="col">Tipo do Cartão</th>
									<th scope="col">Natureza</th>
									<th scope="col">Valor</th>
									<th scope="col">Data</th>
								</tr>
							</thead>
							<tbody>
							<tr th:each="operation : ${data.operations}">
								<td><span th:text="${operation.id}"> # </span></td>
								<td><span th:text="${operation.storeOwner}"> Dono da Loja </span></td>
								<td><span th:text="${operation.nameStore}"> Nome da Loja </span></td>
								<td><span th:text="${operation.document}"> Documento </span></td>
								<td><span th:text="${operation.cardNumber}"> Número do Cartão </span></td>
								<td><span th:text="${operation.typeOperation}"> Tipo do Cartão </span></td>
								<td><span th:text="${operation.typeNature}"> Natureza </span></td>
								<td><span th:text="${operation.value}"> Valor </span></td>
								<td><span th:text="${operation.date}"> Data </span></td>
							</tr>
							</tbody>
						</table>
						<nav th:if="${data.totalPages > 0}" class="d-flex justify-content-start align-items-center" aria-label="...">
							<ul class="pagination pagination-md" th:each="pageNumber : ${pageNumbers}">
								<li th:if="${pageNumber==data.number + 1}" class="page-item active" aria-current="page">
									<a class="page-link" th:href="@{/operations/list(size=${data.size}, page=${pageNumber})}"
									   th:text=${pageNumber}
									   ></a>
								</li>
								<li th:if="${pageNumber!=data.number + 1}" class="page-item" aria-current="page">
									<a class="page-link" th:href="@{/operations/list(size=${data.size}, page=${pageNumber})}"
									   th:text=${pageNumber}
									></a>
								</li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>

		</main>
		
	</section>
	<script th:inline="javascript" th:fragment="inlinescript"></script>
</body>
</html>